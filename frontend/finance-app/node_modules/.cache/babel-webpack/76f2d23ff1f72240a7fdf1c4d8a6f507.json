{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kryst/Desktop/frontend/finance-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { TickerDetailResponseDto } from \"../dtos/responses/ticker-detail-response-dto\";\nimport { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./accounts.service\";\nexport class TickerService {\n  constructor(httpClient, accountsService) {\n    this.httpClient = httpClient;\n    this.accountsService = accountsService;\n  }\n\n  getTickerDetails(ticker) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      const accessToken = (_a = localStorage.getItem('accessToken')) !== null && _a !== void 0 ? _a : '';\n      const header = new HttpHeaders();\n      header.append('Authorization', `Bearer ${accessToken}`);\n      const url = `http://localhost:8080/api/tickers/${ticker}/details`;\n      let isExpired = false;\n      let response = yield _this.httpClient.get(url, {\n        headers: header\n      }).toPromise().then(response => response).catch( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (errors) {\n          return new TickerDetailResponseDto();\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n      alert('hello');\n      return response;\n    })();\n  }\n\n}\n\nTickerService.ɵfac = function TickerService_Factory(t) {\n  return new (t || TickerService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AccountsService));\n};\n\nTickerService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TickerService,\n  factory: TickerService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\kryst\\Desktop\\frontend\\finance-app\\src\\app\\services\\ticker.service.ts"],"names":[],"mappings":";AACA,SAAQ,uBAAR,QAAsC,8CAAtC;AACA,SAAoB,WAApB,QAAsC,sBAAtC;;;;AAMA,OAAM,MAAO,aAAP,CAAoB;AAExB,EAAA,WAAA,CAAoB,UAApB,EAAoD,eAApD,EAAoF;AAAhE,SAAA,UAAA,GAAA,UAAA;AAAgC,SAAA,eAAA,GAAA,eAAA;AAAqC;;AAEnF,EAAA,gBAAgB,CAAC,MAAD,EAAe;AAAA;;AAAA;;;AAEnC,YAAM,WAAW,GAAW,CAAA,EAAA,GAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAA,MAAmC,IAAnC,IAAmC,EAAA,KAAA,KAAA,CAAnC,GAAmC,EAAnC,GAAuC,EAAnE;AAEA,YAAM,MAAM,GAAgB,IAAI,WAAJ,EAA5B;AACA,MAAA,MAAM,CAAC,MAAP,CAAc,eAAd,EAA+B,UAAU,WAAW,EAApD;AAEA,YAAM,GAAG,GAAW,qCAAqC,MAAM,UAA/D;AACA,UAAI,SAAS,GAAY,KAAzB;AAEA,UAAI,QAAQ,SAAkC,KAAI,CAAC,UAAL,CAC3C,GAD2C,CACd,GADc,EACT;AAAC,QAAA,OAAO,EAAE;AAAV,OADS,EAE3C,SAF2C,GAG3C,IAH2C,CAGtC,QAAQ,IAAI,QAH0B,EAI3C,KAJ2C;AAAA,qCAIrC,WAAO,MAAP,EAAiB;AACtB,iBAAO,IAAI,uBAAJ,EAAP;AACD,SAN2C;;AAAA;AAAA;AAAA;AAAA,UAA9C;AAQA,MAAA,KAAK,CAAC,OAAD,CAAL;AAEA,aAAO,QAAP;AApBmC;AAqBpC;;AAzBuB;;;mBAAb,a,EAAa,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C,EAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,eAAA,C;AAAA,C;;;SAAb,a;AAAa,EAAA,OAAA,EAAb,aAAa,CAAA,I;AAAA,EAAA,UAAA,EAFZ","sourcesContent":["import { Injectable } from '@angular/core';\nimport {TickerDetailResponseDto} from \"../dtos/responses/ticker-detail-response-dto\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {AccountsService} from \"./accounts.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TickerService {\n\n  constructor(private httpClient: HttpClient, private accountsService: AccountsService) { }\n\n  async getTickerDetails(ticker: string): Promise<TickerDetailResponseDto>{\n\n    const accessToken: string = localStorage.getItem('accessToken') ?? '';\n\n    const header: HttpHeaders = new HttpHeaders();\n    header.append('Authorization', `Bearer ${accessToken}`)\n\n    const url: string = `http://localhost:8080/api/tickers/${ticker}/details`;\n    let isExpired: boolean = false;\n\n    let response: TickerDetailResponseDto = await this.httpClient\n      .get<TickerDetailResponseDto>(url, {headers: header})\n      .toPromise()\n      .then(response => response)\n      .catch(async (errors) => {\n        return new TickerDetailResponseDto();\n      });\n\n    alert('hello');\n\n    return response;\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}