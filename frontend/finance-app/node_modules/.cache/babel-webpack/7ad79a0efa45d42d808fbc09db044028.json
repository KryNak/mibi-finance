{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kryst/Desktop/frontend/finance-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nexport class AuthGuardService {\n  constructor(auth, router) {\n    this.auth = auth;\n    this.router = router;\n  }\n\n  canActivate() {\n    let isAuthenticated = false;\n    this.auth.getAuthenticationSubject().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (e) {\n        isAuthenticated = e;\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    if (!isAuthenticated) {\n      this.router.navigate(['/', 'login']);\n      return false;\n    }\n\n    return true;\n  }\n\n}\n\nAuthGuardService.ɵfac = function AuthGuardService_Factory(t) {\n  return new (t || AuthGuardService)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i2.Router));\n};\n\nAuthGuardService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthGuardService,\n  factory: AuthGuardService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\kryst\\Desktop\\frontend\\finance-app\\src\\app\\services\\auth-guard.service.ts"],"names":[],"mappings":";;;;AAMA,OAAM,MAAO,gBAAP,CAAuB;AAE3B,EAAA,WAAA,CAAmB,IAAnB,EAA6C,MAA7C,EAA2D;AAAxC,SAAA,IAAA,GAAA,IAAA;AAA0B,SAAA,MAAA,GAAA,MAAA;AAC5C;;AAED,EAAA,WAAW,GAAA;AACT,QAAI,eAAe,GAAY,KAA/B;AACA,SAAK,IAAL,CAAU,wBAAV,GAAqC,SAArC;AAAA,mCAA+C,WAAO,CAAP,EAAY;AACzD,QAAA,eAAe,GAAG,CAAlB;AACD,OAFD;;AAAA;AAAA;AAAA;AAAA;;AAIA,QAAG,CAAC,eAAJ,EAAoB;AAClB,WAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,GAAD,EAAM,OAAN,CAArB;AACA,aAAO,KAAP;AACD;;AAED,WAAO,IAAP;AACD;;AAjB0B;;;mBAAhB,gB,EAAgB,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,WAAA,C,EAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,MAAA,C;AAAA,C;;;SAAhB,gB;AAAgB,EAAA,OAAA,EAAhB,gBAAgB,CAAA,I;AAAA,EAAA,UAAA,EADJ","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Router, CanActivate} from '@angular/router';\nimport {AuthService} from './auth.service';\nimport {Observable} from \"rxjs\";\n\n@Injectable({providedIn: 'root'})\nexport class AuthGuardService implements CanActivate {\n\n  constructor(public auth: AuthService, public router: Router) {\n  }\n\n  canActivate(): boolean {\n    let isAuthenticated: boolean = false;\n    this.auth.getAuthenticationSubject().subscribe(async (e) => {\n      isAuthenticated = e;\n    })\n\n    if(!isAuthenticated){\n      this.router.navigate(['/', 'login']);\n      return false;\n    }\n\n    return true;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}